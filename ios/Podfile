# ios/Podfile

platform :ios, '12.0'

# 关键：不要 use_frameworks!
# 改用 modular headers 或什么都不写（默认静态链接）
use_modular_headers!

project 'Runner.xcodeproj'

target 'Runner' do
  # Flutter 引擎
  pod 'Flutter', :path => '../Flutter'

  # 手动列出所有插件（从 .symlinks 路径引用）
  pod 'flutter_livepush_plugin', :path => '../Flutter/.symlinks/plugins/flutter_livepush_plugin/ios'
  pod 'permission_handler_apple', :path => '../Flutter/.symlinks/plugins/permission_handler_apple/ios'
  pod 'shared_preferences_foundation', :path => '../Flutter/.symlinks/plugins/shared_preferences_foundation/ios'
  pod 'path_provider_foundation', :path => '../Flutter/.symlinks/plugins/path_provider_foundation/ios'

  # 如果有其他插件，继续添加...
end

post_install do |installer|
  installer.pods_project.targets.each do |target|
    target.build_configurations.each do |config|
      config.build_settings['IPHONEOS_DEPLOYMENT_TARGET'] = '12.0'
      config.build_settings['ENABLE_BITCODE'] = 'NO'
    end
  end
end